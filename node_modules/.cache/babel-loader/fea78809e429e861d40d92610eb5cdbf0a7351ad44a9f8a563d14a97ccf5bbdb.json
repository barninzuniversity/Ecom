{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ibrab\\\\OneDrive\\\\Bureau\\\\ecom\\\\src\\\\pages\\\\AdminLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminLogin = () => {\n  _s();\n  const navigate = useNavigate();\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [remember, setRemember] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    // Check if already authenticated\n    checkAuth();\n  }, []);\n  const checkAuth = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/admin/check', {\n        credentials: 'include'\n      });\n      if (response.ok) {\n        navigate('/admin');\n      }\n    } catch (error) {\n      // Not authenticated, stay on login page\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/admin/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          password\n        })\n      });\n      if (response.ok) {\n        navigate('/admin');\n      } else {\n        const errorData = await response.json();\n        setError(errorData.error || 'Login failed');\n      }\n    } catch (error) {\n      setError('Login failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel\",\n      style: {\n        maxWidth: '500px',\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: '0 0 8px'\n        },\n        children: \"Admin Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        style: {\n          marginBottom: '24px'\n        },\n        children: \"Enter the admin password to continue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        style: {\n          display: 'grid',\n          gap: '16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gap: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"muted\",\n            style: {\n              fontSize: '13px',\n              fontWeight: '600'\n            },\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: showPassword ? 'text' : 'password',\n              placeholder: \"Enter admin password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true,\n              style: {\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"nav-btn\",\n              onClick: () => setShowPassword(!showPassword),\n              style: {\n                whiteSpace: 'nowrap'\n              },\n              children: showPassword ? 'Hide' : 'Show'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"pill\",\n            style: {\n              cursor: 'pointer',\n              flex: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: remember,\n              onChange: e => setRemember(e.target.checked),\n              style: {\n                accentColor: 'var(--accent-primary)',\n                marginRight: '6px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), \"Remember me on this device\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            disabled: loading,\n            children: loading ? 'Logging in...' : 'Unlock Admin'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminLogin, \"Lb+kTtyXlCIA8wiu02SARsleVMo=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminLogin;\nexport default AdminLogin;\nvar _c;\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","AdminLogin","_s","navigate","password","setPassword","showPassword","setShowPassword","remember","setRemember","error","setError","loading","setLoading","checkAuth","response","fetch","credentials","ok","handleSubmit","e","preventDefault","method","headers","body","JSON","stringify","errorData","json","children","className","style","maxWidth","margin","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","onSubmit","display","gap","fontSize","fontWeight","type","placeholder","value","onChange","target","required","flex","onClick","whiteSpace","alignItems","cursor","checked","accentColor","marginRight","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Ibrab/OneDrive/Bureau/ecom/src/pages/AdminLogin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AdminLogin = () => {\r\n  const navigate = useNavigate();\r\n  const [password, setPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [remember, setRemember] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check if already authenticated\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const checkAuth = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/admin/check', {\r\n        credentials: 'include'\r\n      });\r\n      if (response.ok) {\r\n        navigate('/admin');\r\n      }\r\n    } catch (error) {\r\n      // Not authenticated, stay on login page\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/admin/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ password }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        navigate('/admin');\r\n      } else {\r\n        const errorData = await response.json();\r\n        setError(errorData.error || 'Login failed');\r\n      }\r\n    } catch (error) {\r\n      setError('Login failed. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"panel\" style={{ maxWidth: '500px', margin: '0 auto' }}>\r\n        <h2 style={{ margin: '0 0 8px' }}>Admin Login</h2>\r\n        <p className=\"muted\" style={{ marginBottom: '24px' }}>\r\n          Enter the admin password to continue.\r\n        </p>\r\n\r\n        <form onSubmit={handleSubmit} style={{ display: 'grid', gap: '16px' }}>\r\n          <div style={{ display: 'grid', gap: '8px' }}>\r\n            <label className=\"muted\" style={{ fontSize: '13px', fontWeight: '600' }}>\r\n              Password\r\n            </label>\r\n            <div style={{ display: 'flex', gap: '8px' }}>\r\n              <input\r\n                type={showPassword ? 'text' : 'password'}\r\n                placeholder=\"Enter admin password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n                style={{ flex: 1 }}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"nav-btn\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                style={{ whiteSpace: 'nowrap' }}\r\n              >\r\n                {showPassword ? 'Hide' : 'Show'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <label className=\"pill\" style={{ cursor: 'pointer', flex: 1 }}>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={remember}\r\n                onChange={(e) => setRemember(e.target.checked)}\r\n                style={{ accentColor: 'var(--accent-primary)', marginRight: '6px' }}\r\n              />\r\n              Remember me on this device\r\n            </label>\r\n            <button \r\n              type=\"submit\" \r\n              className=\"btn-primary\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Logging in...' : 'Unlock Admin'}\r\n            </button>\r\n          </div>\r\n\r\n          {error && <div className=\"message-error\">{error}</div>}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}